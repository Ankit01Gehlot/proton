SET enable_optimize_predicate_expression = 1;

DROP STREAM IF EXISTS test1_00843;
DROP STREAM IF EXISTS test2_00843;
DROP STREAM IF EXISTS view_00843;

create stream test1_00843 (a uint8) ;
INSERT INTO test1_00843 VALUES (1);

CREATE VIEW view_00843 AS SELECT * FROM test1_00843;
SELECT * FROM view_00843;
RENAME STREAM test1_00843 TO test2_00843;
SELECT * FROM view_00843; -- { serverError 60 }
RENAME STREAM test2_00843 TO test1_00843;
SELECT * FROM view_00843;

DROP STREAM test1_00843;
DROP STREAM view_00843;
