{
    "name":"tp_exporter_1",
    "mode": "batch",
    "workspaces": [
        {"name":"tp-duckbill","type":"address", "address": "https://cloud.timeplus.com.cn/duckbill", "api_key_env_var": "TP_DUCKBILL_API_KEY", "access_privilege":"read_only"},
        {"name":"tp-eng","type":"address", "address": "https://dev.timeplus.cloud/tp-eng",  "api_key_env_var": "TP_ENG_API_KEY", "access_privilege":"read_only"},
        {"name":"local1", "type":"file", "address": "./local1", "access_privilege":"read_write"},
        {"name":"local2","type":"address", "address": "http://localhost:8000", "api_key_env_var": "TP_LOCAL_API_KEY", "access_privilege":"read_write"},
        {"name":"local3","type":"address", "address": "http://localhost:8000","tp_native_host":"localhost","tp_native_port": "8463", "tp_native_rest_port": "3218", "read_protocol":"tp_rest","write_protocol":"tp_native", "api_key_env_var": "TP_LOCAL_API_KEY", "access_privilege":"read_write"},
        {"name":"local4","type":"native", "tp_native_host":"localhost","tp_native_port": "8463", "tp_native_rest_port": "3218", "read_protocol":"tp_native","write_protocol":"tp_native", "api_key_env_var": "TP_LOCAL_API_KEY", "access_privilege":"read_write"},
        {"name":"tp-demo","type":"address", "address": "https://dev.timeplus.cloud/tp-demo", "api_key_env_var": "TP_DEMO_API_KEY", "access_privilege":"read_only"},
        {"name":"demo-site","type":"address", "address": "https://demo.timeplus.cloud/default", "api_key_env_var": "DEMO_SITE_API_KEY", "access_privilege":"read_only"},
        {"name":"livepeer","type":"address", "address": "https://us.timeplus.cloud/8n0o9ng3", "api_key_env_var": "LIVEPEER_API_KEY", "access_privilege":"read_only"}

    ],

    "operates":[

                {
                    "name": "demo-site-replica-all-2-local4",
                    "source_workspace": "demo-site",
                    "status": "disabled",
                    "mode": "snapshot",
                    "create_client": "native",
                    "source_data_objs": "All",
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"snap_shot_volumn": 100, "live_seek_to": "2022-01-01"}}
                        ]
                    },
                    "defined_data_objs" :[
                        {
                            "protocol": "rest",
                            "name": "price",
                            "type": "stream",
                            "columns":[
                                {
                                    "name": "code",
                                    "type": "string",
                                    "nullable": false,
                                    "default": ""
                                },
                                {
                                    "name": "price",
                                    "type": "float32",
                                    "nullable": false,
                                    "default": ""
                                },                                                                
                                {
                                    "name": "_tp_time",
                                    "type": "datetime64(3, 'UTC')",
                                    "nullable": false,
                                    "default": "now64(3, 'UTC')"
                                }                                
                            ],
                            "logstore_retention_bytes": 10737418240,
                            "logstore_retention_ms": 604800000,
                            "mode": "versioned_kv",
                            "primary_key": "code"
                        }
                    ],
                    "target_workspaces":["local4"]
                },        
                {
                    "name": "tp-demo-replica-1view",
                    "mode": "snapshot",
                    "source_workspace": "tp-demo",
                    "status": "disabled",
                    "source_data_objs":[
                        {"name": "slack", "type":"view", "dependency_discovery":"auto", "depends_stream_data_volume": 1000}
                    ],
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"volumn": 100, "confilict":"skip"}},
                            {"name":"ttp_truck_track", "rule":{"volumn": 100}},
                            {"name": "ttp_truck_factory_track_ouman", "rule": {"volumn": -1}}
                        ]
                    }, 
                    "target_workspaces":["tp-eng","local2"]
                },        
                {
                    "name": "livepeer-replica-all-2-tp-eng",
                    "source_workspace": "livepeer",
                    "status": "disabled",
                    "mode": "snapshot",
                    "source_data_objs": "All",
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"snap_shot_volumn": 100, "live_seek_to": "2022-01-01"}}
                        ]
                    }, 
                    "target_workspaces":["tp-eng"]
                },
                {
                    "name": "livepeer-replica-all-2-local2",
                    "source_workspace": "livepeer",
                    "status": "disabled",
                    "mode": "snapshot",
                    "source_data_objs": "All",
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"snap_shot_volumn": 100, "live_seek_to": "2022-01-01"}}
                        ]
                    }, 
                    "target_workspaces":["local2"]
                },                
                {
                    "name": "demo-site-replica-all-2-local2",
                    "source_workspace": "demo-site",
                    "status": "enabled",
                    "mode": "snapshot",
                    "create_client": "native",
                    "source_data_objs": "All",
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"snap_shot_volumn": 100, "live_seek_to": "2022-01-01"}}
                        ]
                    },
                    "defined_data_objs" :[
                        {
                            "protocol": "rest",
                            "name": "price",
                            "type": "stream",
                            "columns":[
                                {
                                    "name": "code",
                                    "type": "string",
                                    "nullable": false,
                                    "default": ""
                                },
                                {
                                    "name": "price",
                                    "type": "float32",
                                    "nullable": false,
                                    "default": ""
                                },                                                                
                                {
                                    "name": "_tp_time",
                                    "type": "datetime64(3, 'UTC')",
                                    "nullable": false,
                                    "default": "now64(3, 'UTC')"
                                }                                
                            ],
                            "logstore_retention_bytes": 10737418240,
                            "logstore_retention_ms": 604800000,
                            "mode": "versioned_kv",
                            "primary_key": "code"
                        }
                    ],
                    "target_workspaces":["local2"]
                },
                
                {
                    "name": "tp-duckbill-replica-2views",
                    "mode": "snapshot",
                    "source_workspace": "tp-duckbill",
                    "status": "disabled",
                    "source_data_objs":[
                        {"name": "mv_fatigue_24h_alert", "type":"view", "dependency_discovery":"auto", "depends_stream_data_volume": 1000}
                    ],
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"volumn": 100, "confilict":"skip"}},
                            {"name":"ttp_truck_track", "rule":{"volumn": 100}},
                            {"name": "ttp_truck_factory_track_ouman", "rule": {"volumn": -1}}
                        ]
                    }, 
                    "target_workspaces":["local1", "tp-eng"]
                },
                {
                    "name": "tp-demo-replica-slack",
                    "source_workspace": "tp-demo",
                    "status": "disabled",
                    "mode": "live_mirror",
                    "source_data_objs": [
                        {"name": "slack", "type":"view", "dependency_discovery":"auto", "depends_stream_data_volume": 1000}
                    ],
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"snap_shot_volumn": 100, "live_seek_to": "2022-01-01"}}
                        ]
                    }, 
                    "target_workspaces":["local2"]
                },
                {
                    "name": "tp-demo-replica-all",
                    "source_workspace": "tp-demo",
                    "status": "disabled",
                    "mode": "live_mirror",
                    "source_data_objs": "All",
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"snap_shot_volumn": 100, "live_seek_to": "2022-01-01"}}
                        ]
                    }, 
                    "target_workspaces":["local2"]
                },                                        
                {
                    "name": "tp-duckbill-replica-all",
                    "source_workspace": "tp-duckbill",
                    "status": "disabled",
                    "mode": "live_mirror",
                    "source_data_objs": "All",
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"volumn": 100}},
                            {"name":"ttp_truck_track", "rule":{"volumn": 100}},
                            {"name": "ttp_truck_factory_track_ouman", "rule": {"volumn": -1}}
                        ]
                    }, 
                    "target_workspaces":["local2"]
                }, 
                {
                    "name": "tp-eng-all",
                    "source_workspace": "tp-eng",
                    "status": "disabled",
                    "mode": "backfill",
                    "source_data_objs": "All",
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"volumn": 100}},
                            {"name": "test_event", "rule": {"volumn": -1}}
                        ]
                    }, 
                    "target_workspaces":["local1", "tp-eng"]
                },                               
                {
                    "name": "tp-duckbill-view-replica",
                    "source_workspace": "tp-duckbill",
                    "status": "disabled",
                    "data_exporting_policy": {
                        "streams":[
                            {"name":"any", "rule":{"volumn": 100}}
                        ]
                        },                     
                    "source_data_objs":[
                        {"name": "v_ttp_truck_track", "type":"view", "dependency_discovery":"auto", "depends_stream_data_volume": 1000},
                        {"name": "v_truck_track_with_lon_lat","type":"view", "dependency_discovery":"no"}
                    ],
                    "target_workspaces":["local1", "tp-eng"]
                },
                {
                    "name": "tp-duckbill-view-local-import",
                    "source_workspace": "local1",
                    "status": "disabled",
                    "source_data_objs":[
                        {"name": "v_ttp_truck_track", "type":"view", "dependency_discovery":"auto", "depends_stream_data_volume": 100},
                        {"name": "v_truck_track_with_lon_lat", "type":"view", "dependency_discovery":"no"}
                    ],
                    "target_workspaces":["tp-eng"]
                }                

    ]

}