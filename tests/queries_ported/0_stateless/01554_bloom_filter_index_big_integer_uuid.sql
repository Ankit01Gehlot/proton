SET allow_experimental_bigint_types = 1;

CREATE STREAM 01154_test (x int128, INDEX ix_x x TYPE bloom_filter(0.01) GRANULARITY 1) ENGINE = MergeTree() ORDER BY x SETTINGS index_granularity=8192;
INSERT INTO 01154_test VALUES (1), (2), (3);
SELECT x FROM 01154_test WHERE x = 1;
SELECT x FROM 01154_test WHERE x IN (1, 2);
DROP STREAM 01154_test;

CREATE STREAM 01154_test (x int256, INDEX ix_x x TYPE bloom_filter(0.01) GRANULARITY 1) ENGINE = MergeTree() ORDER BY x SETTINGS index_granularity=8192;
INSERT INTO 01154_test VALUES (1), (2), (3);
SELECT x FROM 01154_test WHERE x = 1;
SELECT x FROM 01154_test WHERE x IN (1, 2);
DROP STREAM 01154_test;

CREATE STREAM 01154_test (x uint256, INDEX ix_x x TYPE bloom_filter(0.01) GRANULARITY 1) ENGINE = MergeTree() ORDER BY x SETTINGS index_granularity=8192;
INSERT INTO 01154_test VALUES (1), (2), (3);
SELECT x FROM 01154_test WHERE x = 1;
SELECT x FROM 01154_test WHERE x IN (1, 2);
DROP STREAM 01154_test;

CREATE STREAM 01154_test (x uuid, INDEX ix_x x TYPE bloom_filter(0.01) GRANULARITY 1) ENGINE = MergeTree() ORDER BY x SETTINGS index_granularity=8192;
INSERT INTO 01154_test VALUES (to_uuid('00000000-0000-0000-0000-000000000001')), (to_uuid('00000000-0000-0000-0000-000000000002')), (to_uuid('00000000-0000-0000-0000-000000000003'));
SELECT x FROM 01154_test WHERE x = to_uuid('00000000-0000-0000-0000-000000000001');
SELECT x FROM 01154_test WHERE x IN (to_uuid('00000000-0000-0000-0000-000000000001'), to_uuid('00000000-0000-0000-0000-000000000002'));
DROP STREAM 01154_test;
